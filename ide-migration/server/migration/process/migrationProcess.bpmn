<?xml version='1.0' encoding='UTF-8'?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:flowable="http://flowable.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.flowable.org/processdef" exporter="Flowable Open Source Modeler" exporterVersion="6.7.2">
  <process id="migrationProcess" name="MigrationProcess" isExecutable="true">
    <startEvent id="sid-3334E861-7999-4B89-B8B0-11724BA17A3E"/>
    <serviceTask id="openHanaTunnelTask" name="OpenHanaTunnelTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/open-hana-tunnel-task.mjs/OpenHanaTunnelTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <endEvent id="sid-70B488C1-384A-4E19-8091-1B12D1AEC7FD"/>
    <serviceTask id="listDeliveryUnitsTask" name="ListDeliveryUnitsTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/list-delivery-units-task.mjs/ListDeliveryUnitsTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <serviceTask id="closeHanaTunnelTask" name="CloseHanaTunnelTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/close-hana-tunnel-task.mjs/CloseHanaTunnelTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <userTask id="userSelectDeliveryUnitAndWorkspaceTask" name="UserSelectDeliveryUnitAndWorkspaceTask"/>
    <serviceTask id="listWorkspacesTask" name="ListWorkspacesTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/list-workspaces-task.mjs/ListWorkspacesTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <sequenceFlow id="sid-0597DAD6-1953-4AC0-BDDD-5FE6172DA252" sourceRef="closeHanaTunnelTask" targetRef="sid-70B488C1-384A-4E19-8091-1B12D1AEC7FD"/>
    <exclusiveGateway id="sid-FFB6E58B-1F4A-4F09-9C3A-ADAEC8D387F9"/>
    <serviceTask id="handleDeployablesTask" name="HandleDeployablesTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/handle-deployables-task.mjs/HandleDeployablesTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <serviceTask id="createWorkspaceTask" name="CreateWorkspaceTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/create-workspace-task.mjs/CreateWorkspaceTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <serviceTask id="copyFilesTask" name="CopyFilesTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/copy-files-task.mjs/CopyFilesTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <serviceTask id="populateProjectsTask" name="PopulateProjectsTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/populate-projects-task.mjs/PopulateProjectsTask/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <serviceTask id="unzipToTemporaryFolderTask" name="UnzipToTemporaryFolderTask" flowable:class="org.eclipse.dirigible.bpm.flowable.DirigibleCallDelegate">
      <extensionElements>
        <flowable:field name="handler">
          <flowable:string><![CDATA[ide-migration/server/migration/process/unzip-to-temporary-folder-task.mjs/UnzipToTemporaryFolder/run]]></flowable:string>
        </flowable:field>
      </extensionElements>
    </serviceTask>
    <exclusiveGateway id="sid-603522FB-D5F6-4CBD-A6A4-2ED445147367"/>
    <sequenceFlow id="sid-7D910018-767E-40A0-A78F-5AFDB9B198AF" sourceRef="sid-3334E861-7999-4B89-B8B0-11724BA17A3E" targetRef="sid-603522FB-D5F6-4CBD-A6A4-2ED445147367"/>
    <sequenceFlow id="sid-60F79384-F9F7-4E7B-9367-C0D9458A2B25" sourceRef="unzipToTemporaryFolderTask" targetRef="createWorkspaceTask"/>
    <sequenceFlow id="sid-48F1E6A1-65EF-437E-AF58-01FB8DB5D2D8" sourceRef="sid-603522FB-D5F6-4CBD-A6A4-2ED445147367" targetRef="unzipToTemporaryFolderTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${migrationType == 'FROM_LOCAL_ZIP'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-494FAC0A-E492-4775-BBD1-CC3A850CC16C" sourceRef="sid-603522FB-D5F6-4CBD-A6A4-2ED445147367" targetRef="openHanaTunnelTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${migrationType == 'FROM_HANA'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-376953E6-6C74-43D2-B5B5-3FE20D22EBE9" sourceRef="openHanaTunnelTask" targetRef="listDeliveryUnitsTask"/>
    <sequenceFlow id="sid-6A23207D-34EC-405E-A43D-1C730B11158F" sourceRef="listDeliveryUnitsTask" targetRef="listWorkspacesTask"/>
    <sequenceFlow id="sid-439730E1-28D0-4A5E-A750-7ED883DFD643" sourceRef="listWorkspacesTask" targetRef="userSelectDeliveryUnitAndWorkspaceTask"/>
    <sequenceFlow id="sid-983EFE4C-0C0D-403E-B55E-1AC7E62761C2" sourceRef="userSelectDeliveryUnitAndWorkspaceTask" targetRef="copyFilesTask"/>
    <sequenceFlow id="sid-1B647715-A769-4A06-A38A-0260EC9F92D8" sourceRef="copyFilesTask" targetRef="createWorkspaceTask"/>
    <sequenceFlow id="sid-1A03A3BF-84FC-465A-9ED6-3E4CDD697E3D" sourceRef="createWorkspaceTask" targetRef="handleDeployablesTask"/>
    <sequenceFlow id="sid-3C8CE926-63DD-4F4F-AFEE-8AA5A0F456AE" sourceRef="handleDeployablesTask" targetRef="populateProjectsTask"/>
    <sequenceFlow id="sid-9685B04E-ED2D-4C26-943C-C34C442DE37D" sourceRef="populateProjectsTask" targetRef="sid-FFB6E58B-1F4A-4F09-9C3A-ADAEC8D387F9"/>
    <sequenceFlow id="sid-772428AA-7E10-46EE-A757-32A49713378A" sourceRef="sid-FFB6E58B-1F4A-4F09-9C3A-ADAEC8D387F9" targetRef="userSelectDeliveryUnitAndWorkspaceTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${migrationState == 'MIGRATION_FAILED'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-91E0686B-EAFF-4623-9DD0-78652272AE99" sourceRef="sid-FFB6E58B-1F4A-4F09-9C3A-ADAEC8D387F9" targetRef="closeHanaTunnelTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${migrationState == 'MIGRATION_EXECUTED'}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_migrationProcess">
    <bpmndi:BPMNPlane bpmnElement="migrationProcess" id="BPMNPlane_migrationProcess">
      <bpmndi:BPMNShape bpmnElement="sid-3334E861-7999-4B89-B8B0-11724BA17A3E" id="BPMNShape_sid-3334E861-7999-4B89-B8B0-11724BA17A3E">
        <omgdc:Bounds height="30.0" width="30.0" x="137.17420399050397" y="142.17420399050397"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="openHanaTunnelTask" id="BPMNShape_openHanaTunnelTask">
        <omgdc:Bounds height="80.0" width="100.0" x="640.1462852890185" y="114.3118366587533"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-70B488C1-384A-4E19-8091-1B12D1AEC7FD" id="BPMNShape_sid-70B488C1-384A-4E19-8091-1B12D1AEC7FD">
        <omgdc:Bounds height="28.0" width="28.0" x="2057.613059857559" y="140.3118366587533"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="listDeliveryUnitsTask" id="BPMNShape_listDeliveryUnitsTask">
        <omgdc:Bounds height="80.0" width="100.0" x="845.9075912747744" y="114.3118366587533"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="closeHanaTunnelTask" id="BPMNShape_closeHanaTunnelTask">
        <omgdc:Bounds height="80.0" width="99.99999999999977" x="1806.127019208302" y="114.3118366587533"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="userSelectDeliveryUnitAndWorkspaceTask" id="BPMNShape_userSelectDeliveryUnitAndWorkspaceTask">
        <omgdc:Bounds height="80.0" width="100.0" x="1326.0173052415382" y="114.3118366587533"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="listWorkspacesTask" id="BPMNShape_listWorkspacesTask">
        <omgdc:Bounds height="80.0" width="100.0" x="1051.6688972605302" y="114.3118366587533"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-FFB6E58B-1F4A-4F09-9C3A-ADAEC8D387F9" id="BPMNShape_sid-FFB6E58B-1F4A-4F09-9C3A-ADAEC8D387F9">
        <omgdc:Bounds height="40.0" width="40.0" x="1584.640978559045" y="134.3118366587533"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="handleDeployablesTask" id="BPMNShape_handleDeployablesTask">
        <omgdc:Bounds height="80.0" width="100.0" x="1554.640978559045" y="411.5226119715119"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="createWorkspaceTask" id="BPMNShape_createWorkspaceTask">
        <omgdc:Bounds height="80.0" width="100.0" x="1326.0173052415382" y="480.1097139667638"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="copyFilesTask" id="BPMNShape_copyFilesTask">
        <omgdc:Bounds height="80.0" width="100.0" x="1326.0173052415382" y="297.2107753127586"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="populateProjectsTask" id="BPMNShape_populateProjectsTask">
        <omgdc:Bounds height="80.0" width="100.0" x="1554.640978559045" y="285.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="unzipToTemporaryFolderTask" id="BPMNShape_unzipToTemporaryFolderTask">
        <omgdc:Bounds height="80.00000000000006" width="100.0" x="290.0731426445093" y="480.10971396676376"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-603522FB-D5F6-4CBD-A6A4-2ED445147367" id="BPMNShape_sid-603522FB-D5F6-4CBD-A6A4-2ED445147367">
        <omgdc:Bounds height="40.0" width="40.0" x="320.07314264450923" y="137.17420399050397"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-6A23207D-34EC-405E-A43D-1C730B11158F" id="BPMNEdge_sid-6A23207D-34EC-405E-A43D-1C730B11158F" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="1.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="945.8575912747743" y="154.3118366587533"/>
        <omgdi:waypoint x="1051.6688972605302" y="154.3118366587533"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-48F1E6A1-65EF-437E-AF58-01FB8DB5D2D8" id="BPMNEdge_sid-48F1E6A1-65EF-437E-AF58-01FB8DB5D2D8" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.00000000000003">
        <omgdi:waypoint x="340.07314264450923" y="177.12145632540626"/>
        <omgdi:waypoint x="340.0731426445093" y="480.10971396676376"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-1A03A3BF-84FC-465A-9ED6-3E4CDD697E3D" id="BPMNEdge_sid-1A03A3BF-84FC-465A-9ED6-3E4CDD697E3D" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="1425.9673052415383" y="520.1097139667638"/>
        <omgdi:waypoint x="1604.640978559045" y="520.1097139667638"/>
        <omgdi:waypoint x="1604.640978559045" y="491.4726119715119"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-772428AA-7E10-46EE-A757-32A49713378A" id="BPMNEdge_sid-772428AA-7E10-46EE-A757-32A49713378A" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="1584.640978559045" y="154.3118366587533"/>
        <omgdi:waypoint x="1425.9673052415383" y="154.3118366587533"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-376953E6-6C74-43D2-B5B5-3FE20D22EBE9" id="BPMNEdge_sid-376953E6-6C74-43D2-B5B5-3FE20D22EBE9" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="1.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="740.0962852890184" y="154.3118366587533"/>
        <omgdi:waypoint x="845.9075912747744" y="154.3118366587533"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-494FAC0A-E492-4775-BBD1-CC3A850CC16C" id="BPMNEdge_sid-494FAC0A-E492-4775-BBD1-CC3A850CC16C" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="1.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="359.8352599312543" y="156.98585039325732"/>
        <omgdi:waypoint x="640.1462852890172" y="154.32086851374132"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-1B647715-A769-4A06-A38A-0260EC9F92D8" id="BPMNEdge_sid-1B647715-A769-4A06-A38A-0260EC9F92D8" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="50.0" flowable:targetDockerY="1.0">
        <omgdi:waypoint x="1376.0173052415382" y="377.1607753127586"/>
        <omgdi:waypoint x="1376.0173052415382" y="480.1097139667638"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-983EFE4C-0C0D-403E-B55E-1AC7E62761C2" id="BPMNEdge_sid-983EFE4C-0C0D-403E-B55E-1AC7E62761C2" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="1376.0173052415382" y="194.26183665875328"/>
        <omgdi:waypoint x="1376.0173052415382" y="297.2107753127586"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-439730E1-28D0-4A5E-A750-7ED883DFD643" id="BPMNEdge_sid-439730E1-28D0-4A5E-A750-7ED883DFD643" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="1.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="1151.618897260282" y="154.3118366587533"/>
        <omgdi:waypoint x="1326.017305241508" y="154.3118366587533"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-91E0686B-EAFF-4623-9DD0-78652272AE99" id="BPMNEdge_sid-91E0686B-EAFF-4623-9DD0-78652272AE99" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="49.999999999999886" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="1624.5870137125828" y="154.3118366587533"/>
        <omgdi:waypoint x="1806.127019208302" y="154.3118366587533"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9685B04E-ED2D-4C26-943C-C34C442DE37D" id="BPMNEdge_sid-9685B04E-ED2D-4C26-943C-C34C442DE37D" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="20.0" flowable:targetDockerY="20.0">
        <omgdi:waypoint x="1604.640978559045" y="285.0"/>
        <omgdi:waypoint x="1604.640978559045" y="174.21765476465566"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-3C8CE926-63DD-4F4F-AFEE-8AA5A0F456AE" id="BPMNEdge_sid-3C8CE926-63DD-4F4F-AFEE-8AA5A0F456AE" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.0" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="1604.640978559045" y="411.5226119715119"/>
        <omgdi:waypoint x="1604.640978559045" y="364.95000000000005"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-7D910018-767E-40A0-A78F-5AFDB9B198AF" id="BPMNEdge_sid-7D910018-767E-40A0-A78F-5AFDB9B198AF" flowable:sourceDockerX="15.0" flowable:sourceDockerY="15.0" flowable:targetDockerX="20.0" flowable:targetDockerY="20.0">
        <omgdi:waypoint x="167.12420347278652" y="157.17420399050397"/>
        <omgdi:waypoint x="320.07314264450923" y="157.17420399050397"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-0597DAD6-1953-4AC0-BDDD-5FE6172DA252" id="BPMNEdge_sid-0597DAD6-1953-4AC0-BDDD-5FE6172DA252" flowable:sourceDockerX="49.999999999999886" flowable:sourceDockerY="40.0" flowable:targetDockerX="14.0" flowable:targetDockerY="14.0">
        <omgdi:waypoint x="1906.0770192082011" y="154.3118366587533"/>
        <omgdi:waypoint x="2057.613059857559" y="154.3118366587533"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-60F79384-F9F7-4E7B-9367-C0D9458A2B25" id="BPMNEdge_sid-60F79384-F9F7-4E7B-9367-C0D9458A2B25" flowable:sourceDockerX="50.0" flowable:sourceDockerY="40.00000000000003" flowable:targetDockerX="50.0" flowable:targetDockerY="40.0">
        <omgdi:waypoint x="390.02314264450933" y="520.1097139667638"/>
        <omgdi:waypoint x="1326.0173052415382" y="520.1097139667638"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>